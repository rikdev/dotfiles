#!/bin/bash

set -o errexit -o nounset -o pipefail

if [[ "$#" != "1" ]]; then
	cat <<-EOF
	Usage: $(basename "${BASH_SOURCE[0]}") <sink number>
	Options:
	  <sink number> - destination sink number.

	Description:
	Move all PulseAudio sink inputs to the distination sink.
	EOF

	exit 1
fi

readonly SINK=$1

pactl set-default-sink "${SINK}"

for INPUT in $(pactl list short sink-inputs | cut --field=1); do
	pactl move-sink-input "${INPUT}" "${SINK}" || true
done
